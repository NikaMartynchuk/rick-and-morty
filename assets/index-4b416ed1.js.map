{"version":3,"file":"index-4b416ed1.js","sources":["../../src/js/header.js","../../src/js/slider.js","../../src/js/characters.js","../../src/js/episode-script.js"],"sourcesContent":["const searchInput = document.getElementById('searchInput');\nconst searchResults = document.getElementById('searchResults');\n\nsearchInput.addEventListener('input', async function () {\n  const query = searchInput.value.trim();\n\n  if (query.length === 0) {\n    searchResults.innerHTML = '';\n    return;\n  }\n\n  try {\n    const response = await fetch(`https://rickandmortyapi.com/api/character/?name=${query}`);\n    const data = await response.json();\n\n    if (data.results) {\n      searchResults.innerHTML = data.results\n        .map(\n          (char) => `\n        <li class=\"list-group-item d-flex align-items-center\" style=\"background-color:#0B2447; color:white;\">\n          <img src=\"${char.image}\" alt=\"${char.name}\" width=\"40\" height=\"40\" class=\"rounded-circle me-2\">\n          <div>\n            <strong>${char.name}</strong><br>\n            <small>Origin: ${char.origin.name}</small><br>\n            <small>Location: ${char.location.name}</small>\n          </div>\n        </li>`\n        )\n        .join('');\n    } else {\n      searchResults.innerHTML = `<li class=\"list-group-item text-center text-danger\" style=\"background-color:#0B2447;\">No results found</li>`;\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    searchResults.innerHTML = `<li class=\"list-group-item text-center text-danger\" style=\"background-color:#0B2447;\">Error loading</li>`;\n  }\n});","(function(){\n  const track = document.getElementById('rmTrack');\n  if(!track) { console.error('rmTrack not found'); return; }\n\n  const viewportWidth = track.parentElement.clientWidth;\n  const totalWidth = Array.from(track.children).reduce((sum, el) => sum + el.clientWidth + 12, 0);\n\n  if(totalWidth < viewportWidth*2) {\n    const children = Array.from(track.children).slice(0,5);\n    children.forEach(node => track.appendChild(node.cloneNode(true)));\n    console.log('Дубльовано слайди для безшовності');\n  }\n})();\n","const characterList = document.getElementById('character-list');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nif (!characterList || !loadMoreBtn) {\n  console.error('Не знайдено необхідні елементи для роботи скрипта');\n}\n\nlet currentPage = 1;   \nlet isLoading = false; \n\nfunction loadCharacters(page) {\n  isLoading = true;\n  fetch(`https://rickandmortyapi.com/api/character?page=${page}`)\n    .then(response => response.json())\n    .then(data => {\n      const characters = data.results;\n      characterList.innerHTML += characters.map(character => `\n        <li>\n          <img class=\"character__img-list\" src=\"${character.image}\" alt=\"${character.name}\">\n          <h2 class=\"character__name\">${character.name}</h2>\n          <h3 class=\"character__info character__origin\">\n            <span class=\"character__span\">Origin:</span> ${character.origin.name}\n          </h3>\n          <h3 id=\"location\" class=\"character__info character__location\">\n            <span class=\"character__span\">Location:</span> ${character.location.name}\n          </h3>\n        </li>\n      `).join('');\n\n      if (!data.info.next) {\n        loadMoreBtn.style.display = 'none';\n      }\n    })\n    .catch(error => {\n      console.error('Помилка завантаження персонажів:', error);\n      characterList.innerHTML += '<li>Не вдалося завантажити дані.</li>';\n    })\n    .finally(() => {\n      isLoading = false;\n    });\n}\n\nloadCharacters(currentPage);\n\nloadMoreBtn.addEventListener('click', () => {\n  if (isLoading) return; \n  currentPage++;\n  loadCharacters(currentPage);\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const nameInput = document.querySelector('.character-input');\n  const selects = document.querySelectorAll('.character select');\n  const list = document.querySelector('.character-list');\n  const searchButton = document.querySelector('.load-more'); // тимчасово як кнопка пошуку\n\n  const initialListHTML = list.innerHTML;\n\n  function normalizeValue(key, val) {\n    if (!val) return '';\n    val = val.trim().toLowerCase();\n    if (key === 'gender' && val === 'all') return '';\n    return val;\n  }\n\n  function filtersAreEmpty() {\n    if (nameInput.value.trim() !== '') return false;\n    for (const select of selects) {\n      if (normalizeValue(select.previousElementSibling.textContent.toLowerCase(), select.value) !== '') return false;\n    }\n    return true;\n  }\n\n  function buildApiUrl() {\n    const baseUrl = 'https://rickandmortyapi.com/api/character/';\n    const params = new URLSearchParams();\n\n    const name = nameInput.value.trim();\n    if (name) params.append('name', name);\n\n    selects.forEach(select => {\n      const key = select.previousElementSibling.textContent.toLowerCase();\n      const val = normalizeValue(key, select.value);\n      if (val) params.append(key, val);\n    });\n\n    return baseUrl + (params.toString() ? `?${params.toString()}` : '');\n  }\n\n  async function updateList() {\n    if (filtersAreEmpty()) {\n      list.innerHTML = initialListHTML;\n      return;\n    }\n\n    list.innerHTML = '<li>Loading...</li>';\n\n    try {\n      const response = await fetch(buildApiUrl());\n      if (!response.ok) throw new Error('No characters found');\n      const data = await response.json();\n\n      if (!data.results || data.results.length === 0) {\n        list.innerHTML = '<li>No characters found.</li>';\n        return;\n      }\n\n      list.innerHTML = '';\n      data.results.forEach(char => {\n        const li = document.createElement('li');\n        li.className = 'character__item';\n        li.innerHTML = `\n          <img src=\"${char.image}\" alt=\"${char.name}\" width=\"50\" height=\"50\" \n               style=\"vertical-align: middle; border-radius: 50%; margin-right: 10px;\">\n          <strong>${char.name}</strong> — ${char.status}, ${char.species}, ${char.gender}\n        `;\n        list.appendChild(li);\n      });\n    } catch (err) {\n      list.innerHTML = `<li>${err.message}</li>`;\n    }\n  }\n\n  nameInput.addEventListener('input', updateList);\n  selects.forEach(select => select.addEventListener('change', updateList));\n  searchButton.addEventListener('click', e => {\n    e.preventDefault();\n    updateList();\n  });\n});","const dropdown = document.getElementById('dropdown');\n  const dropdownBtn = document.getElementById('dropdownBtn');\n  const menu = document.getElementById('menu');\n  const items = menu.querySelectorAll('li');\n\n  const seriesBySeason = {\n    1: 11,\n    2: 10,\n    3: 10,\n    4: 10,\n    5: 10,\n    6: 10\n  };\n\n  dropdownBtn.addEventListener('click', () => {\n    dropdown.classList.toggle('open');\n  });\n\n  items.forEach(item => {\n    item.addEventListener('click', (e) => {\n      e.stopPropagation();\n      const seasonNumber = item.getAttribute('data-season');\n\n      if (!seasonNumber) {\n        removeAllSubMenus();\n        items.forEach(i => i.classList.remove('active'));\n        item.classList.add('active');\n        dropdownBtn.textContent = item.textContent;\n        return;\n      }\n\n      const nextElement = item.nextElementSibling;\n      if (nextElement && nextElement.classList.contains('sub-menu')) {\n        nextElement.remove();\n        item.classList.remove('active');\n        return;\n      }\n\n      removeAllSubMenus();\n      items.forEach(i => i.classList.remove('active'));\n      item.classList.add('active');\n      dropdownBtn.textContent = item.textContent;\n\n      const subMenu = document.createElement('ul');\n      subMenu.classList.add('sub-menu');\n      const episodeCount = seriesBySeason[seasonNumber] || 0;\n\n      for (let i = 1; i <= episodeCount; i++) {\n        const li = document.createElement('li');\n        li.textContent = `${i} series`;\n        li.addEventListener('click', (ev) => {\n          ev.stopPropagation();\n          dropdownBtn.textContent = `${seasonNumber} season / ${i} series`;\n          dropdown.classList.remove('open');\n          removeAllSubMenus();\n          items.forEach(i => i.classList.remove('active'));\n        });\n        subMenu.appendChild(li);\n      }\n\n      item.insertAdjacentElement('afterend', subMenu);\n      subMenu.style.display = 'block';\n    });\n  });\n\n  function removeAllSubMenus() {\n    const oldSubMenus = menu.querySelectorAll('.sub-menu');\n    oldSubMenus.forEach(sm => sm.remove());\n  }\n\n  document.addEventListener('click', (e) => {\n    if (!dropdown.contains(e.target)) {\n      dropdown.classList.remove('open');\n      removeAllSubMenus();\n    }\n  });\n\n\n\n\n\n\n\n\n  "],"names":["searchInput","searchResults","query","data","char","error","track","viewportWidth","sum","el","node","characterList","loadMoreBtn","currentPage","isLoading","loadCharacters","page","response","characters","character","nameInput","selects","list","searchButton","initialListHTML","normalizeValue","key","val","filtersAreEmpty","select","buildApiUrl","baseUrl","params","name","updateList","li","err","e","dropdown","dropdownBtn","menu","items","seriesBySeason","item","seasonNumber","removeAllSubMenus","i","nextElement","subMenu","episodeCount","ev","sm"],"mappings":"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"}